"use strict";(self.webpackChunkviki=self.webpackChunkviki||[]).push([[165],{3905:function(e,t,n){n.d(t,{Zo:function(){return p},kt:function(){return u}});var a=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=a.createContext({}),c=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},p=function(e){var t=c(e.components);return a.createElement(s.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},m=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,o=e.originalType,s=e.parentName,p=i(e,["components","mdxType","originalType","parentName"]),m=c(n),u=r,h=m["".concat(s,".").concat(u)]||m[u]||d[u]||o;return n?a.createElement(h,l(l({ref:t},p),{},{components:n})):a.createElement(h,l({ref:t},p))}));function u(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=n.length,l=new Array(o);l[0]=m;var i={};for(var s in t)hasOwnProperty.call(t,s)&&(i[s]=t[s]);i.originalType=e,i.mdxType="string"==typeof e?e:r,l[1]=i;for(var c=2;c<o;c++)l[c]=n[c];return a.createElement.apply(null,l)}return a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},9225:function(e,t,n){n.r(t),n.d(t,{frontMatter:function(){return i},contentTitle:function(){return s},metadata:function(){return c},toc:function(){return p},default:function(){return m}});var a=n(7462),r=n(3366),o=(n(7294),n(3905)),l=["components"],i={sidebar_position:2},s="Apple macOS",c={unversionedId:"environment/os/macos",id:"environment/os/macos",title:"Apple macOS",description:"After completely reinstalling the whole new macOS, you probably want to make everything in a great order.",source:"@site/docs/environment/os/macos.md",sourceDirName:"environment/os",slug:"/environment/os/macos",permalink:"/viki/docs/environment/os/macos",editUrl:"https://github.com/v3ce/viki/edit/docs/docs/environment/index.md/docs/environment/os/macos.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"environmentSidebar",previous:{title:"Microsoft Windows 11",permalink:"/viki/docs/environment/os/windows"},next:{title:"Linux Ubuntu",permalink:"/viki/docs/environment/os/ubuntu"}},p=[{value:"Personal Preference",id:"personal-preference",children:[{value:"Create a user with capitalized folder name",id:"create-a-user-with-capitalized-folder-name",children:[],level:3},{value:"Download Magnet from App Store",id:"download-magnet-from-app-store",children:[],level:3},{value:"Set the password less than 4 characters",id:"set-the-password-less-than-4-characters",children:[],level:3},{value:"Increase cursor speed",id:"increase-cursor-speed",children:[],level:3},{value:"Enable Trackpad Three Finger Drag",id:"enable-trackpad-three-finger-drag",children:[],level:3},{value:"Make dock appear instantly",id:"make-dock-appear-instantly",children:[],level:3},{value:"Show path in the Finder title bar",id:"show-path-in-the-finder-title-bar",children:[],level:3},{value:"Disable shadow of screenshot",id:"disable-shadow-of-screenshot",children:[],level:3}],level:2},{value:"Setup Homebrew and Terminal",id:"setup-homebrew-and-terminal",children:[{value:"Install Homebrew",id:"install-homebrew",children:[],level:3},{value:"Install Essentials",id:"install-essentials",children:[],level:3},{value:"Install dotfiles",id:"install-dotfiles",children:[],level:3},{value:"Install zimfw",id:"install-zimfw",children:[],level:3},{value:"Install vim-plug for Neovim",id:"install-vim-plug-for-neovim",children:[],level:3},{value:"Resolve VSCode Problems",id:"resolve-vscode-problems",children:[],level:3}],level:2},{value:"Java",id:"java",children:[],level:2},{value:"Docker",id:"docker",children:[],level:2},{value:"iTerm",id:"iterm",children:[],level:2},{value:"VSCode",id:"vscode",children:[],level:2},{value:"Safari Extension, Xcode",id:"safari-extension-xcode",children:[],level:2},{value:"Git",id:"git",children:[{value:"Revert a Git repository to a previous commit",id:"revert-a-git-repository-to-a-previous-commit",children:[],level:3},{value:"Rebase without changing timestamps",id:"rebase-without-changing-timestamps",children:[],level:3}],level:2},{value:"Troubleshooting",id:"troubleshooting",children:[{value:"Location of <code>bits/stdc++.h</code>",id:"location-of-bitsstdch",children:[],level:3},{value:"Remove .DS_Store",id:"remove-ds_store",children:[],level:3}],level:2}],d={toc:p};function m(e){var t=e.components,n=(0,r.Z)(e,l);return(0,o.kt)("wrapper",(0,a.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"apple-macos"},"Apple macOS"),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},"After completely reinstalling the whole new macOS, you probably want to make everything in a great order.")),(0,o.kt)("h2",{id:"personal-preference"},"Personal Preference"),(0,o.kt)("h3",{id:"create-a-user-with-capitalized-folder-name"},"Create a user with capitalized folder name"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},'sudo dscl . -create /Users/Jay\nsudo dscl . -create /Users/Jay UserShell /bin/zsh\nsudo dscl . -create /Users/Jay RealName "Peng-Yu Chen"\nsudo dscl . -create /Users/Jay UniqueID 718\nsudo dscl . -create /Users/Jay PrimaryGroupID 20\nsudo dscl . -create /Users/Jay NFSHomeDirectory /Users/Jay\nsudo dscl . -passwd /Users/Jay 0000\nsudo dscl . -append /Groups/admin GroupMembership Jay\n')),(0,o.kt)("h3",{id:"download-magnet-from-app-store"},"Download ",(0,o.kt)("a",{parentName:"h3",href:"https://apps.apple.com/us/app/magnet/id441258766?mt=12"},"Magnet")," from App Store"),(0,o.kt)("h3",{id:"set-the-password-less-than-4-characters"},"Set the password less than 4 characters"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"# Need some admin level permissions\nsudo su -\n\n# Retrieve the current policies and save them into a temp xml file\npwpolicy getaccountpolicies > temp.xml\n\n# Open the policy file\nvi temp.xml\n")),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Delete the entire first line specifying: ",(0,o.kt)("inlineCode",{parentName:"li"},"Getting global account policies")," to make it valid xml"),(0,o.kt)("li",{parentName:"ul"},"Change ",(0,o.kt)("inlineCode",{parentName:"li"},"{4,}")," to ",(0,o.kt)("inlineCode",{parentName:"li"},"{1,}")," on the line: ",(0,o.kt)("inlineCode",{parentName:"li"},"<string>policyAttributePassword matches '^$|.{4,}+'</string>")),(0,o.kt)("li",{parentName:"ul"},"Save the changes")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"# Save this new policy back into the system\npwpolicy setaccountpolicies temp.xml\n\n# Remove the temporary xml file\nrm temp.xml\n\n# Now you'd be able to change your password\npasswd\n\n# Don't forget to change the security password!\nsecurity set-keychain-password\n")),(0,o.kt)("h3",{id:"increase-cursor-speed"},"Increase cursor speed"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"defaults write NSGlobalDomain KeyRepeat -int 1\ndefaults write NSGlobalDomain InitialKeyRepeat -int 13\n")),(0,o.kt)("h3",{id:"enable-trackpad-three-finger-drag"},"Enable Trackpad Three Finger Drag"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"defaults write com.apple.AppleMultitouchTrackpad TrackpadThreeFingerDrag -bool true\n")),(0,o.kt)("h3",{id:"make-dock-appear-instantly"},"Make dock appear instantly"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"defaults write com.apple.Dock autohide-delay -float 0.0001; killall Dock\ndefaults delete com.apple.Dock autohide-delay; killall Dock\n")),(0,o.kt)("h3",{id:"show-path-in-the-finder-title-bar"},"Show path in the Finder title bar"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"defaults write com.apple.finder _FXShowPosixPathInTitle -bool true; killall Finder\n")),(0,o.kt)("h3",{id:"disable-shadow-of-screenshot"},"Disable shadow of screenshot"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"defaults write com.apple.screencapture disable-shadow -bool true\n")),(0,o.kt)("h2",{id:"setup-homebrew-and-terminal"},"Setup Homebrew and Terminal"),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},"We use Homebrew since it's a great package manager.")),(0,o.kt)("h3",{id:"install-homebrew"},"Install ",(0,o.kt)("a",{parentName:"h3",href:"https://brew.sh/index_zh-tw"},(0,o.kt)("strong",{parentName:"a"},"Homebrew"))),(0,o.kt)("p",null,"This script installs Homebrew to its preferred prefix (",(0,o.kt)("inlineCode",{parentName:"p"},"/usr/local")," for macOS Intel, ",(0,o.kt)("inlineCode",{parentName:"p"},"/opt/homebrew")," for Apple Silicon and ",(0,o.kt)("inlineCode",{parentName:"p"},"/home/linuxbrew/.linuxbrew")," for Linux) so that you don\u2019t need sudo when you brew install."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},'/bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"\n\n# Run these two commands in your terminal to add Homebrew to your PATH:\ntouch ~/.config/zsh/.zprofile\necho \'eval "$(/opt/homebrew/bin/brew shellenv)"\' >> ~/.config/zsh/.zprofile\neval "$(/opt/homebrew/bin/brew shellenv)"\n')),(0,o.kt)("h3",{id:"install-essentials"},"Install Essentials"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"brew install --cask iterm2 visual-studio-code snipaste\nbres install --cask google-drive-file-stream spotify\nbrew install neovim bat cmake\n")),(0,o.kt)("h3",{id:"install-dotfiles"},"Install dotfiles"),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},"Make sure the path is clean!"),(0,o.kt)("p",{parentName:"blockquote"},"E.g. put zsh related files under ",(0,o.kt)("inlineCode",{parentName:"p"},"$HOME/.config/zsh"))),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"curl https://codeload.github.com/walkccc/dotfiles/tar.gz/main | \\\n  tar -xz --strip=1 dotfiles-main\nrm README.md LICENSE .gitignore\n")),(0,o.kt)("h3",{id:"install-zimfw"},"Install ",(0,o.kt)("a",{parentName:"h3",href:"https://github.com/zimfw/zimfw"},(0,o.kt)("strong",{parentName:"a"},"zimfw"))),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"curl -fsSL https://raw.githubusercontent.com/zimfw/install/master/install.zsh | zsh\n")),(0,o.kt)("p",null,"Restart your terminal. Now you'll see Powerlevel10k configuration wizard."),(0,o.kt)("h3",{id:"install-vim-plug-for-neovim"},"Install ",(0,o.kt)("a",{parentName:"h3",href:"https://github.com/junegunn/vim-plug"},"vim-plug")," for Neovim"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"# https://github.com/junegunn/vim-plug\nsh -c 'curl -fLo \"${XDG_DATA_HOME:-$HOME/.local/share}\"/nvim/site/autoload/plug.vim --create-dirs \\\n       https://raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim'\n")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},":PlugInstall\n")),(0,o.kt)("h3",{id:"resolve-vscode-problems"},"Resolve VSCode Problems"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"# Vim keyrepeating not working in VSCode\ndefaults write com.microsoft.VSCode ApplePressAndHoldEnabled -bool false\n")),(0,o.kt)("h2",{id:"java"},"Java"),(0,o.kt)("p",null,"Ref: ",(0,o.kt)("a",{parentName:"p",href:"https://java.christmas/2019/16"},"https://java.christmas/2019/16")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"brew install AdoptOpenJDK/openjdk/adoptopenjdk{8,11,13,15}\n")),(0,o.kt)("h2",{id:"docker"},"Docker"),(0,o.kt)("p",null,(0,o.kt)("a",{parentName:"p",href:"https://docs.docker.com/docker-for-mac/#zsh"},"Setup completion")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"etc=/Applications/Docker.app/Contents/Resources/etc\nln -s $etc/docker.zsh-completion /usr/local/share/zsh/site-functions/_docker\nln -s $etc/docker-compose.zsh-completion /usr/local/share/zsh/site-functions/_docker-compose\n")),(0,o.kt)("h2",{id:"iterm"},"iTerm"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"In Preferences > Profiles > Windows\n",(0,o.kt)("img",{parentName:"li",src:"https://i.imgur.com/ngLUbr4.png",alt:null})),(0,o.kt)("li",{parentName:"ul"},'In Preferences > Keys > Hotkey\nClick "Show/hide all windows with a system-wide hotkey"\nRecord the hotkey you prefer.')),(0,o.kt)("h2",{id:"vscode"},"VSCode"),(0,o.kt)("p",null,"Open in VSCode"),(0,o.kt)("p",null,(0,o.kt)("img",{parentName:"p",src:"https://i.imgur.com/8Sw8Mdd.png",alt:null})),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},'open -n -b "com.microsoft.VSCode" --args "$*"\n')),(0,o.kt)("p",null,(0,o.kt)("a",{parentName:"p",href:"https://github.com/cnstntn-kndrtv/open-in-buttons-for-finder-toolbar/blob/master/src/icons/vs-code.icns"},"vs-code.icns")),(0,o.kt)("h2",{id:"safari-extension-xcode"},"Safari Extension, Xcode"),(0,o.kt)("p",null,"We need ",(0,o.kt)("inlineCode",{parentName:"p"},"safari-web-extension-converter")," to convert our Chrome Extension.\nHowever, out ",(0,o.kt)("inlineCode",{parentName:"p"},"xcode-select")," doesn't link to the correct path."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"# original\nxcode-select -p # /Library/Developer/CommandLineTools\n# connect to the correct path\nsudo xcode-select -s sudo xcode-select -s /Applications/Xcode.app\n# now, we can do the following to convert our app\nxcrun safari-web-extension-converter ~/Repos/leetcode-search-by-question-id\n")),(0,o.kt)("h2",{id:"git"},"Git"),(0,o.kt)("h3",{id:"revert-a-git-repository-to-a-previous-commit"},(0,o.kt)("a",{parentName:"h3",href:"https://stackoverflow.com/questions/4114095/how-to-revert-a-git-repository-to-a-previous-commit"},"Revert a Git repository to a previous commit")),(0,o.kt)("h3",{id:"rebase-without-changing-timestamps"},(0,o.kt)("a",{parentName:"h3",href:"https://stackoverflow.com/questions/2973996/git-rebase-without-changing-commit-timestamps"},"Rebase without changing timestamps")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},'git rebase -i --root\n# Change the commit from "pick" to "edit"\n# :wq\nGIT_COMMITTER_DATE="2018-03-20T12:00:00" git commit --amend --date="2018-03-20T12:00:00"\n# Check the SHA of the new root commit message\ngit rebase --committer-date-is-author-date SHA_OF_ROOT\n')),(0,o.kt)("h2",{id:"troubleshooting"},"Troubleshooting"),(0,o.kt)("h3",{id:"location-of-bitsstdch"},"Location of ",(0,o.kt)("inlineCode",{parentName:"h3"},"bits/stdc++.h")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"/usr/local/include/bits/stdc++.h\n")),(0,o.kt)("h3",{id:"remove-ds_store"},(0,o.kt)("a",{parentName:"h3",href:"https://www.tekrevue.com/tip/stop-ds-store-files-mac-network/"},"Remove .DS_Store")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"sudo find / -name .DS_Store\ndefaults write com.apple.desktopservices DSDontWriteNetworkStores -bool true\nsudo find / -name .DS_Store -exec rm {} +\n")))}m.isMDXComponent=!0}}]);